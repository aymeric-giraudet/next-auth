"use strict";var _nodemailer=_interopRequireDefault(require("nodemailer"));Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var _default=a=>_objectSpread({id:"email",type:"email",name:"Email",server:{host:"localhost",port:25,auth:{user:"",pass:""}},from:"NextAuth <no-reply@example.com>",sendVerificationRequest},a);exports.default=_default;var sendVerificationRequest=(a)=>{var{identifer:b,url:c,token:d,site:e,provider:f}=a;return new Promise((a,d)=>{var{server:g,from:h}=f,i=e.replace(/^https?:\/\//,"");_nodemailer.default.createTransport(g).sendMail({to:b,from:h,subject:"Sign in to ".concat(i),text:text({url:c,siteName:i}),html:html({url:c,siteName:i})},c=>c?(console.error("SEND_VERIFICATION_EMAIL_ERROR",b,c),d(new Error("SEND_VERIFICATION_EMAIL_ERROR",c))):a())})},html=(a)=>{var{url:b,siteName:c}=a,d="#444444";return"\n<table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\n  <tr>\n    <td align=\"center\" style=\"padding: 8px 0; font-size: 22px; font-family: Helvetica, Arial, sans-serif; color: #888888;\">\n       ".concat(c,"\n    </td>\n  </tr>\n  <tr>\n    <td align=\"center\" style=\"padding: 16px 0;\">\n      <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\n        <tr>\n          <td align=\"center\" style=\"border-radius: 3px;\" bgcolor=\"").concat(d,"\"><a href=\"").concat(b,"\" target=\"_blank\" style=\"font-size: 18px; font-family: Helvetica, Arial, sans-serif; color: ").concat("#ffffff","; text-decoration: none; text-decoration: none;border-radius: 3px; padding: 12px 18px; border: 1px solid ").concat(d,"; display: inline-block; font-weight: bold;\">Sign in</a></td>\n        </tr>\n      </table>\n    </td>\n  </tr>\n</table>\n")},text=(a)=>{var{url:b,siteName:c}=a;return"Sign in to ".concat(c,"\n").concat(b,"\n\n")};